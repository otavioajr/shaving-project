name: 'ðŸ”Ž Gemini Triage'

on:
  workflow_call:
    inputs:
      additional_context:
        type: 'string'
        required: false

jobs:
  triage:
    runs-on: 'ubuntu-latest'
    permissions:
      contents: 'read'
      issues: 'write'
    steps:
      - name: 'Checkout repository'
        uses: 'actions/checkout@v4'

      - name: 'Run Gemini Triage'
        uses: 'google-github-actions/run-gemini-cli@v0'
        env:
          GITHUB_TOKEN: '${{ secrets.GITHUB_TOKEN }}'
        with:
          gemini_api_key: '${{ secrets.GEMINI_API_KEY }}'
          gemini_model: 'gemini-2.0-flash'
          command: 'triage'
