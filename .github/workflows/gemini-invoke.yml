name: 'ðŸ”Ž Gemini Invoke'

on:
  workflow_call:
    inputs:
      additional_context:
        type: 'string'
        required: false

jobs:
  invoke:
    runs-on: 'ubuntu-latest'
    permissions:
      contents: 'read'
      pull-requests: 'write'
      issues: 'write'
    steps:
      - name: 'Checkout repository'
        uses: 'actions/checkout@v4'

      - name: 'Run Gemini Invoke'
        uses: 'google-github-actions/run-gemini-cli@v0'
        env:
          GITHUB_TOKEN: '${{ secrets.GITHUB_TOKEN }}'
        with:
          gemini_api_key: '${{ secrets.GEMINI_API_KEY }}'
          gemini_model: 'gemini-2.0-flash'
          command: 'invoke'
          # Aqui ele usa o que vocÃª escreveu no chat como instruÃ§Ã£o
          prompt: '${{ inputs.additional_context }}'
